@{
	string PageName = "Planlanmış Vardiya";
	string AreaName = "Admin";
}


<div class="card overflow-hidden">
	<div class="card-header">
		<div class="row gx-0 align-items-center">
			<div class="col-auto d-flex justify-content-end order-md-1"><button class="btn icon-item icon-item-sm shadow-none p-0 me-1 ms-md-2" type="button" data-event="prev" data-bs-toggle="tooltip" title="Previous"><span class="fas fa-arrow-left"></span></button><button class="btn icon-item icon-item-sm shadow-none p-0 me-1 me-lg-2" type="button" data-event="next" data-bs-toggle="tooltip" title="Next"><span class="fas fa-arrow-right"></span></button></div>
			<div class="col-auto col-md-auto order-md-2">
				<h4 class="mb-0 fs-0 fs-sm-1 fs-lg-2 calendar-title"></h4>
			</div>
			<div class="col col-md-auto d-flex justify-content-end order-md-3"><button class="btn btn-falcon-primary btn-sm" type="button" data-event="today">Today</button></div>
			<div class="col-md-auto d-md-none">
				<hr />
			</div>
			<div class="col-auto d-flex order-md-0"><button class="btn btn-primary btn-sm" type="button" data-bs-toggle="modal" data-bs-target="#addEventModal"> <span class="fas fa-plus me-2"></span>Planlanmış Vardiya Ekle</button></div>
			<div class="col-auto d-flex order-md-0"><button class="btn btn-primary btn-sm" type="button" data-bs-toggle="modal" data-bs-target="#addEventModal"> <span class="fas fa-plus me-2"></span>Talep Ekle</button></div>
			<div class="col-auto d-flex order-md-0"><button class="btn btn-primary btn-sm" type="button" data-bs-toggle="modal" data-bs-target="#addEventModal"> <span class="fas fa-plus me-2"></span>İzin Ekle</button></div>
			<div class="col-auto d-flex order-md-0"><button class="btn btn-primary btn-sm" type="button" data-bs-toggle="modal" data-bs-target="#addEventModal"> <span class="fas fa-plus me-2"></span>Kesinti Ekle</button></div>
			<div class="col d-flex justify-content-end order-md-2">
				<div class="dropdown font-sans-serif me-md-2">
					<button class="btn btn-falcon-default text-600 btn-sm dropdown-toggle dropdown-caret-none" type="button" id="email-filter" data-bs-toggle="dropdown" data-boundary="viewport" aria-haspopup="true" aria-expanded="false"><span data-view-title="data-view-title">Month View</span><span class="fas fa-sort ms-2 fs--1"></span></button>
					<div class="dropdown-menu dropdown-menu-end border py-2" aria-labelledby="email-filter"><a class="active dropdown-item d-flex justify-content-between" href="#!" data-fc-view="dayGridMonth">Month View<span class="icon-check"><span class="fas fa-check" data-fa-transform="down-4 shrink-4"></span></span></a><a class="dropdown-item d-flex justify-content-between" href="#!" data-fc-view="timeGridWeek">Week View<span class="icon-check"><span class="fas fa-check" data-fa-transform="down-4 shrink-4"></span></span></a><a class="dropdown-item d-flex justify-content-between" href="#!" data-fc-view="timeGridDay">Day View<span class="icon-check"><span class="fas fa-check" data-fa-transform="down-4 shrink-4"></span></span></a><a class="dropdown-item d-flex justify-content-between" href="#!" data-fc-view="listWeek">List View<span class="icon-check"><span class="fas fa-check" data-fa-transform="down-4 shrink-4"></span></span></a><a class="dropdown-item d-flex justify-content-between" href="#!" data-fc-view="listYear">Year View<span class="icon-check"><span class="fas fa-check" data-fa-transform="down-4 shrink-4"></span></span></a></div>
				</div>
			</div>
		</div>
	</div>
	<div class="card-body p-0 scrollbar">
		<div class="calendar-outline" id="appCalendar"></div>
	</div>
</div>



<script>

	document.addEventListener('DOMContentLoaded', function () {
		var calendarEl = document.getElementById('appCalendar');

		var calendar = new FullCalendar.Calendar(calendarEl, {
			initialView: 'dayGridMonth',
			locale: 'tr',
			headerToolbar: {
				left: 'prev,next today',
				center: 'title',
				right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'
			},
			events: {
				url: '/Admin/PlanlanmisVardiya/GetEvents',
				method: 'GET',
				failure: function () {
					alert('Etkinlikler yüklenemedi!');
				}
			},
	eventClick: function(info) {
		var id = parseInt(info.event.id); // 🔸 ID'nin sayı olduğundan emin ol

		// Modalı açmak için DataGrid ile aynı fonksiyonu çağır
		zuraf.getById('/Admin/get-planlanmisvardiya', id, '#gridContainer');


	}
		});

		calendar.render();
	});



</script>